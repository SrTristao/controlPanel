"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const Item_1 = require("../../models/Item");
async function findById(id) {
    return await Item_1.Item.findById(id);
}
exports.findById = findById;
async function list(filter) {
    return await Item_1.Item.find(filter);
}
exports.list = list;
async function saveItem(item) {
    const newItem = new Item_1.Item(item);
    return await newItem.save();
}
exports.saveItem = saveItem;
async function deleteItem(id) {
    return await Item_1.Item.findByIdAndRemove(id);
}
exports.deleteItem = deleteItem;
async function updateItem(item) {
    return await Item_1.Item.findOne({ _id: item._id }, async (err, doc) => {
        return await Object.assign(doc, item).save();
    });
}
exports.updateItem = updateItem;
async function lastInserts() {
    return await Item_1.Item.find({}, 'name').sort('-createdAt').limit(5);
}
exports.lastInserts = lastInserts;
async function selectCount() {
    return await Item_1.Item.count({});
}
exports.selectCount = selectCount;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiSXRlbS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NlcnZlci9hZG1pbi9yZXBvc2l0b3JpZXMvSXRlbS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLDRDQUF5QztBQUdsQyxLQUFLLG1CQUFtQixFQUFVO0lBQ3JDLE1BQU0sQ0FBQyxNQUFNLFdBQUksQ0FBQyxRQUFRLENBQUMsRUFBRSxDQUFDLENBQUM7QUFDbkMsQ0FBQztBQUZELDRCQUVDO0FBRU0sS0FBSyxlQUFlLE1BQVc7SUFDbkMsTUFBTSxDQUFDLE1BQU0sV0FBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztBQUNsQyxDQUFDO0FBRkQsb0JBRUM7QUFFTSxLQUFLLG1CQUFtQixJQUFXO0lBQ3RDLE1BQU0sT0FBTyxHQUFHLElBQUksV0FBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQy9CLE1BQU0sQ0FBQyxNQUFNLE9BQU8sQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNoQyxDQUFDO0FBSEQsNEJBR0M7QUFFTSxLQUFLLHFCQUFxQixFQUFVO0lBQ3ZDLE1BQU0sQ0FBQyxNQUFNLFdBQUksQ0FBQyxpQkFBaUIsQ0FBQyxFQUFFLENBQUMsQ0FBQztBQUM1QyxDQUFDO0FBRkQsZ0NBRUM7QUFFTSxLQUFLLHFCQUFxQixJQUFXO0lBQ3hDLE1BQU0sQ0FBQyxNQUFNLFdBQUksQ0FBQyxPQUFPLENBQUMsRUFBQyxHQUFHLEVBQUMsSUFBSSxDQUFDLEdBQUcsRUFBQyxFQUFFLEtBQUssRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEVBQUU7UUFDekQsTUFBTSxDQUFDLE1BQU0sTUFBTSxDQUFDLE1BQU0sQ0FBQyxHQUFHLEVBQUUsSUFBSSxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDaEQsQ0FBQyxDQUFDLENBQUM7QUFDUixDQUFDO0FBSkQsZ0NBSUM7QUFFTSxLQUFLO0lBQ1IsTUFBTSxDQUFDLE1BQU0sV0FBSSxDQUFDLElBQUksQ0FBQyxFQUFFLEVBQUUsTUFBTSxDQUFDLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNuRSxDQUFDO0FBRkQsa0NBRUM7QUFFTSxLQUFLO0lBQ1IsTUFBTSxDQUFDLE1BQU0sV0FBSSxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUMsQ0FBQztBQUNoQyxDQUFDO0FBRkQsa0NBRUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJdGVtIH0gZnJvbSAnLi4vLi4vbW9kZWxzL0l0ZW0nO1xuaW1wb3J0IHsgSUl0ZW0gfSBmcm9tICcuLi8uLi9pbnRlcmZhY2VzL0lJdGVtJztcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGZpbmRCeUlkKGlkOiBudW1iZXIpIDogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm4gYXdhaXQgSXRlbS5maW5kQnlJZChpZCk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsaXN0KGZpbHRlcjogYW55KSA6IFByb21pc2U8SUl0ZW1bXT4geyAgICBcbiAgIHJldHVybiBhd2FpdCBJdGVtLmZpbmQoZmlsdGVyKTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNhdmVJdGVtKGl0ZW06IElJdGVtKSA6IFByb21pc2U8SUl0ZW0+IHsgICAgXG4gICAgY29uc3QgbmV3SXRlbSA9IG5ldyBJdGVtKGl0ZW0pO1xuICAgIHJldHVybiBhd2FpdCBuZXdJdGVtLnNhdmUoKTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRlbGV0ZUl0ZW0oaWQ6IHN0cmluZykgOiBQcm9taXNlPGFueT4geyBcbiAgICByZXR1cm4gYXdhaXQgSXRlbS5maW5kQnlJZEFuZFJlbW92ZShpZCk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGRhdGVJdGVtKGl0ZW06IElJdGVtKSA6IFByb21pc2U8YW55PiB7IFxuICAgIHJldHVybiBhd2FpdCBJdGVtLmZpbmRPbmUoe19pZDppdGVtLl9pZH0sIGFzeW5jIChlcnIsIGRvYykgPT4geyAgICAgICAgXG4gICAgICAgIHJldHVybiBhd2FpdCBPYmplY3QuYXNzaWduKGRvYywgaXRlbSkuc2F2ZSgpO1xuICAgICB9KTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxhc3RJbnNlcnRzKCk6IFByb21pc2U8YW55PiB7ICAgIFxuICAgIHJldHVybiBhd2FpdCBJdGVtLmZpbmQoe30sICduYW1lJykuc29ydCgnLWNyZWF0ZWRBdCcpLmxpbWl0KDUpO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VsZWN0Q291bnQoKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm4gYXdhaXQgSXRlbS5jb3VudCh7fSk7XG59Il19