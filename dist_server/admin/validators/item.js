"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const joi = require("joi");
const schema = joi.object().keys({
    name: joi.string().required(),
    status: joi.string().valid('Concluido').valid('Pendente').required(),
    user: { name: joi.string().required(),
        _id: joi.string().required() }
});
async function validate(model) {
    return validateAsPromise(model, schema);
}
exports.validate = validate;
function validateAsPromise(model, schema) {
    return new Promise((resolve, reject) => {
        joi.validate(model, schema, { abortEarly: false, stripUnknown: { objects: true, arrays: false } }, (err, value) => {
            if (err)
                reject({ message: 'object-invalid' });
            resolve(value);
        });
    });
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaXRlbS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NlcnZlci9hZG1pbi92YWxpZGF0b3JzL2l0ZW0udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSwyQkFBMkI7QUFHM0IsTUFBTSxNQUFNLEdBQUcsR0FBRyxDQUFDLE1BQU0sRUFBRSxDQUFDLElBQUksQ0FBQztJQUM3QixJQUFJLEVBQUUsR0FBRyxDQUFDLE1BQU0sRUFBRSxDQUFDLFFBQVEsRUFBRTtJQUM3QixNQUFNLEVBQUUsR0FBRyxDQUFDLE1BQU0sRUFBRSxDQUFDLEtBQUssQ0FBQyxXQUFXLENBQUMsQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDLENBQUMsUUFBUSxFQUFFO0lBQ3BFLElBQUksRUFBRSxFQUFDLElBQUksRUFBRSxHQUFHLENBQUMsTUFBTSxFQUFFLENBQUMsUUFBUSxFQUFFO1FBQzlCLEdBQUcsRUFBRSxHQUFHLENBQUMsTUFBTSxFQUFFLENBQUMsUUFBUSxFQUFFLEVBQUM7Q0FDdEMsQ0FBQyxDQUFDO0FBRUksS0FBSyxtQkFBbUIsS0FBVTtJQUNyQyxNQUFNLENBQUMsaUJBQWlCLENBQVEsS0FBSyxFQUFFLE1BQU0sQ0FBQyxDQUFDO0FBQ25ELENBQUM7QUFGRCw0QkFFQztBQUVELDJCQUE4QixLQUFVLEVBQUUsTUFBVztJQUNqRCxNQUFNLENBQUMsSUFBSSxPQUFPLENBQUksQ0FBQyxPQUFPLEVBQUUsTUFBTSxFQUFFLEVBQUU7UUFDeEMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxLQUFLLEVBQUUsTUFBTSxFQUFPLEVBQUUsVUFBVSxFQUFFLEtBQUssRUFBRSxZQUFZLEVBQUUsRUFBRSxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUUsRUFBRSxFQUFFLENBQUMsR0FBRyxFQUFFLEtBQUssRUFBRSxFQUFFO1lBQ3JILEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQztnQkFBQyxNQUFNLENBQUMsRUFBQyxPQUFPLEVBQUUsZ0JBQWdCLEVBQUMsQ0FBQyxDQUFDO1lBQzdDLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNqQixDQUFDLENBQUMsQ0FBQztJQUNMLENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIGpvaSBmcm9tICdqb2knO1xuaW1wb3J0IHsgSUl0ZW0gfSBmcm9tICcuLi8uLi9pbnRlcmZhY2VzL0lJdGVtJztcblxuY29uc3Qgc2NoZW1hID0gam9pLm9iamVjdCgpLmtleXMoe1xuICAgIG5hbWU6IGpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxuICAgIHN0YXR1czogam9pLnN0cmluZygpLnZhbGlkKCdDb25jbHVpZG8nKS52YWxpZCgnUGVuZGVudGUnKS5yZXF1aXJlZCgpLCAgICBcbiAgICB1c2VyOiB7bmFtZTogam9pLnN0cmluZygpLnJlcXVpcmVkKCksXG4gICAgICAgICAgX2lkOiBqb2kuc3RyaW5nKCkucmVxdWlyZWQoKX1cbn0pO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdmFsaWRhdGUobW9kZWw6IGFueSkge1xuICAgIHJldHVybiB2YWxpZGF0ZUFzUHJvbWlzZTxJSXRlbT4obW9kZWwsIHNjaGVtYSk7XG59XG5cbmZ1bmN0aW9uIHZhbGlkYXRlQXNQcm9taXNlPFQ+KG1vZGVsOiBhbnksIHNjaGVtYTogYW55KTogUHJvbWlzZTxUPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlPFQ+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGpvaS52YWxpZGF0ZShtb2RlbCwgc2NoZW1hLCA8YW55PnsgYWJvcnRFYXJseTogZmFsc2UsIHN0cmlwVW5rbm93bjogeyBvYmplY3RzOiB0cnVlLCBhcnJheXM6IGZhbHNlIH0gfSwgKGVyciwgdmFsdWUpID0+IHtcbiAgICAgICAgaWYgKGVycikgcmVqZWN0KHttZXNzYWdlOiAnb2JqZWN0LWludmFsaWQnfSk7XG4gICAgICAgIHJlc29sdmUodmFsdWUpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0iXX0=