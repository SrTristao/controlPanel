"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const express = require("express");
const routes_1 = require("./routes/user/routes");
const routes_2 = require("./routes/auth/routes");
const routes_3 = require("./routes/item/routes");
const authRequired_1 = require("../middlewares/authRequired");
const auth_service_1 = require("./middlewares/auth-service");
exports.router = express.Router();
exports.router.use(auth_service_1.decodeToken);
exports.router.use('/user', authRequired_1.authRequired('admin'), routes_1.router);
exports.router.use('/item', authRequired_1.authRequired(['user', 'admin']), routes_3.router);
exports.router.use('/auth', routes_2.router);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicm91dGVzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc2VydmVyL2FkbWluL3JvdXRlcy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLG1DQUFtQztBQUNuQyxpREFBNEQ7QUFDNUQsaURBQTREO0FBQzVELGlEQUE0RDtBQUM1RCw4REFBMkQ7QUFDM0QsNkRBQXlEO0FBQzVDLFFBQUEsTUFBTSxHQUFHLE9BQU8sQ0FBQyxNQUFNLEVBQUUsQ0FBQztBQUV2QyxjQUFNLENBQUMsR0FBRyxDQUFDLDBCQUFXLENBQUMsQ0FBQztBQUV4QixjQUFNLENBQUMsR0FBRyxDQUFDLE9BQU8sRUFBRSwyQkFBWSxDQUFDLE9BQU8sQ0FBQyxFQUFFLGVBQVUsQ0FBQyxDQUFDO0FBQ3ZELGNBQU0sQ0FBQyxHQUFHLENBQUMsT0FBTyxFQUFFLDJCQUFZLENBQUMsQ0FBQyxNQUFNLEVBQUUsT0FBTyxDQUFDLENBQUMsRUFBRSxlQUFVLENBQUMsQ0FBQztBQUNqRSxjQUFNLENBQUMsR0FBRyxDQUFDLE9BQU8sRUFBRSxlQUFVLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQgeyByb3V0ZXIgYXMgdXNlclJvdXRlcyB9IGZyb20gJy4vcm91dGVzL3VzZXIvcm91dGVzJztcbmltcG9ydCB7IHJvdXRlciBhcyBhdXRoUm91dGVzIH0gZnJvbSAnLi9yb3V0ZXMvYXV0aC9yb3V0ZXMnO1xuaW1wb3J0IHsgcm91dGVyIGFzIGl0ZW1Sb3V0ZXMgfSBmcm9tICcuL3JvdXRlcy9pdGVtL3JvdXRlcyc7XG5pbXBvcnQgeyBhdXRoUmVxdWlyZWQgfSBmcm9tICcuLi9taWRkbGV3YXJlcy9hdXRoUmVxdWlyZWQnO1xuaW1wb3J0IHsgZGVjb2RlVG9rZW4gfSBmcm9tICcuL21pZGRsZXdhcmVzL2F1dGgtc2VydmljZSc7XG5leHBvcnQgY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcblxucm91dGVyLnVzZShkZWNvZGVUb2tlbik7XG5cbnJvdXRlci51c2UoJy91c2VyJywgYXV0aFJlcXVpcmVkKCdhZG1pbicpLCB1c2VyUm91dGVzKTtcbnJvdXRlci51c2UoJy9pdGVtJywgYXV0aFJlcXVpcmVkKFsndXNlcicsICdhZG1pbiddKSwgaXRlbVJvdXRlcyk7XG5yb3V0ZXIudXNlKCcvYXV0aCcsIGF1dGhSb3V0ZXMpOyJdfQ==