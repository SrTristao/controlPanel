"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const itemService = require("../../services/Item");
const const_1 = require("../../../utils/const");
const itemRepository = require("../../repositories/Item");
async function findById(req, res, next) {
    try {
        const result = await itemService.findById(req.params.id);
        if (result)
            res.status(200).send(result);
        else
            res.status(401).send({ message: const_1.CONST.MSG.ERR.FINDBYID });
    }
    catch (err) {
        errorHandler(err, res, next);
    }
}
exports.findById = findById;
async function list(req, res, next) {
    try {
        const result = await itemService.list(req.params.filter);
        res.status(200).send(result);
    }
    catch (err) {
        errorHandler(err, res, next);
    }
}
exports.list = list;
async function saveItem(req, res, next) {
    try {
        const result = await itemService.saveItem(req.body);
        if (result)
            res.status(200).send({ message: const_1.CONST.MSG.SUCCESS.SAVE, item: result });
        else
            res.status(401).send({ message: const_1.CONST.MSG.ERR.SAVE });
    }
    catch (err) {
        errorHandler(err, res, next);
    }
}
exports.saveItem = saveItem;
async function deleteItem(req, res, next) {
    try {
        const result = await itemService.deleteItem(req.params.id);
        if (result)
            res.status(200).send({ message: const_1.CONST.MSG.SUCCESS.DELETE });
        else
            res.status(401).send({ message: const_1.CONST.MSG.ERR.DELETE });
    }
    catch (err) {
        errorHandler(err, res, next);
    }
}
exports.deleteItem = deleteItem;
async function updateItem(req, res, next) {
    try {
        const result = await itemService.updateItem(req.body);
        if (result)
            res.status(200).send({ message: const_1.CONST.MSG.SUCCESS.UPDATE });
        else
            res.status(401).send({ message: const_1.CONST.MSG.ERR.UPDATE });
    }
    catch (err) {
        errorHandler(err, res, next);
    }
}
exports.updateItem = updateItem;
async function lastInserts(req, res, next) {
    try {
        const result = await itemRepository.lastInserts();
        res.status(200).send(result);
    }
    catch (err) {
        next(err);
    }
}
exports.lastInserts = lastInserts;
async function totItems(req, res, next) {
    try {
        const result = await itemRepository.selectCount();
        res.status(200).send({ count: result });
    }
    catch (err) {
        next(err);
    }
}
exports.totItems = totItems;
function errorHandler(err, res, next) {
    switch (err.message) {
        case 'object-invalid':
            return res.status(401).send({ message: 'Item inválido.' });
        case 'invalid-object-id':
            return res.status(401).send({ message: 'Parametro inválido.' });
        case 'parameter-not-expected':
            return res.status(401).send({ message: 'Parametro não experado.' });
        case 'item-not-found':
            return res.status(404).send({ message: 'Item não encontrado.' });
        default:
            next(err);
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWN0aW9ucy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NlcnZlci9hZG1pbi9yb3V0ZXMvaXRlbS9hY3Rpb25zLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQ0EsbURBQW1EO0FBQ25ELGdEQUE2QztBQUM3QywwREFBMEQ7QUFFbkQsS0FBSyxtQkFBbUIsR0FBWSxFQUFFLEdBQWEsRUFBRSxJQUFrQjtJQUMxRSxJQUFJLENBQUM7UUFDRCxNQUFNLE1BQU0sR0FBRyxNQUFNLFdBQVcsQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUN6RCxFQUFFLENBQUEsQ0FBQyxNQUFNLENBQUM7WUFDTixHQUFHLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUNqQyxJQUFJO1lBQ0EsR0FBRyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsRUFBQyxPQUFPLEVBQUMsYUFBSyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsUUFBUSxFQUFDLENBQUMsQ0FBQztJQUMvRCxDQUFDO0lBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUNYLFlBQVksQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQ2pDLENBQUM7QUFDTCxDQUFDO0FBVkQsNEJBVUM7QUFFTSxLQUFLLGVBQWUsR0FBWSxFQUFFLEdBQWEsRUFBRSxJQUFrQjtJQUN0RSxJQUFJLENBQUM7UUFDRCxNQUFNLE1BQU0sR0FBRyxNQUFNLFdBQVcsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUN6RCxHQUFHLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUNqQyxDQUFDO0lBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUNYLFlBQVksQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQ2pDLENBQUM7QUFDTCxDQUFDO0FBUEQsb0JBT0M7QUFFTSxLQUFLLG1CQUFtQixHQUFZLEVBQUUsR0FBYSxFQUFFLElBQWtCO0lBQzFFLElBQUksQ0FBQztRQUNELE1BQU0sTUFBTSxHQUFHLE1BQU0sV0FBVyxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDcEQsRUFBRSxDQUFBLENBQUMsTUFBTSxDQUFDO1lBQ04sR0FBRyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsRUFBQyxPQUFPLEVBQUUsYUFBSyxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsSUFBSSxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUMsQ0FBQyxDQUFDO1FBQzFFLElBQUk7WUFDQSxHQUFHLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxFQUFDLE9BQU8sRUFBQyxhQUFLLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUMsQ0FBQyxDQUFDO0lBQzNELENBQUM7SUFBQyxLQUFLLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ1gsWUFBWSxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDakMsQ0FBQztBQUNMLENBQUM7QUFWRCw0QkFVQztBQUVNLEtBQUsscUJBQXFCLEdBQVksRUFBRSxHQUFhLEVBQUUsSUFBa0I7SUFDNUUsSUFBSSxDQUFDO1FBQ0QsTUFBTSxNQUFNLEdBQUcsTUFBTSxXQUFXLENBQUMsVUFBVSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDM0QsRUFBRSxDQUFBLENBQUMsTUFBTSxDQUFDO1lBQ04sR0FBRyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsRUFBQyxPQUFPLEVBQUMsYUFBSyxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsTUFBTSxFQUFDLENBQUMsQ0FBQztRQUM3RCxJQUFJO1lBQ0EsR0FBRyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsRUFBQyxPQUFPLEVBQUMsYUFBSyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsTUFBTSxFQUFDLENBQUMsQ0FBQztJQUM3RCxDQUFDO0lBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUNYLFlBQVksQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQ2pDLENBQUM7QUFDTCxDQUFDO0FBVkQsZ0NBVUM7QUFFTSxLQUFLLHFCQUFxQixHQUFZLEVBQUUsR0FBYSxFQUFFLElBQWtCO0lBQzVFLElBQUksQ0FBQztRQUNELE1BQU0sTUFBTSxHQUFHLE1BQU0sV0FBVyxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDdEQsRUFBRSxDQUFBLENBQUMsTUFBTSxDQUFDO1lBQ04sR0FBRyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsRUFBQyxPQUFPLEVBQUUsYUFBSyxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsTUFBTSxFQUFDLENBQUMsQ0FBQztRQUM5RCxJQUFJO1lBQ0EsR0FBRyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsRUFBQyxPQUFPLEVBQUUsYUFBSyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsTUFBTSxFQUFDLENBQUMsQ0FBQztJQUM5RCxDQUFDO0lBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUNYLFlBQVksQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQ2pDLENBQUM7QUFDTCxDQUFDO0FBVkQsZ0NBVUM7QUFFTSxLQUFLLHNCQUFzQixHQUFZLEVBQUUsR0FBWSxFQUFFLElBQWtCO0lBQzVFLElBQUksQ0FBQztRQUNELE1BQU0sTUFBTSxHQUFHLE1BQU0sY0FBYyxDQUFDLFdBQVcsRUFBRSxDQUFDO1FBQ2xELEdBQUcsQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQ2pDLENBQUM7SUFBQyxLQUFLLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ1gsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ2QsQ0FBQztBQUNMLENBQUM7QUFQRCxrQ0FPQztBQUVNLEtBQUssbUJBQW1CLEdBQVksRUFBRSxHQUFZLEVBQUUsSUFBa0I7SUFDekUsSUFBSSxDQUFDO1FBQ0QsTUFBTSxNQUFNLEdBQUcsTUFBTSxjQUFjLENBQUMsV0FBVyxFQUFFLENBQUM7UUFDbEQsR0FBRyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsRUFBQyxLQUFLLEVBQUUsTUFBTSxFQUFDLENBQUMsQ0FBQztJQUMxQyxDQUFDO0lBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUNYLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUNkLENBQUM7QUFDTCxDQUFDO0FBUEQsNEJBT0M7QUFFRCxzQkFBc0IsR0FBVSxFQUFFLEdBQWEsRUFBRSxJQUFrQjtJQUMvRCxNQUFNLENBQUMsQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztRQUNwQixLQUFLLGdCQUFnQjtZQUNuQixNQUFNLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsRUFBQyxPQUFPLEVBQUUsZ0JBQWdCLEVBQUMsQ0FBQyxDQUFBO1FBQzFELEtBQUssbUJBQW1CO1lBQ3RCLE1BQU0sQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxFQUFFLE9BQU8sRUFBRSxxQkFBcUIsRUFBQyxDQUFDLENBQUM7UUFDakUsS0FBSyx3QkFBd0I7WUFDM0IsTUFBTSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLEVBQUUsT0FBTyxFQUFFLHlCQUF5QixFQUFDLENBQUMsQ0FBQTtRQUNwRSxLQUFLLGdCQUFnQjtZQUNuQixNQUFNLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsRUFBRSxPQUFPLEVBQUUsc0JBQXNCLEVBQUUsQ0FBQyxDQUFDO1FBQ25FO1lBQ0UsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ2QsQ0FBQztBQUNILENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0RnVuY3Rpb24sIFJlcXVlc3QsIFJlc3BvbnNlIH0gIGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0ICogYXMgaXRlbVNlcnZpY2UgZnJvbSAnLi4vLi4vc2VydmljZXMvSXRlbSc7XG5pbXBvcnQgeyBDT05TVCB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL2NvbnN0JztcbmltcG9ydCAqIGFzIGl0ZW1SZXBvc2l0b3J5IGZyb20gJy4uLy4uL3JlcG9zaXRvcmllcy9JdGVtJztcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGZpbmRCeUlkKHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSwgbmV4dDogTmV4dEZ1bmN0aW9uKSA6IFByb21pc2U8dm9pZD4ge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGl0ZW1TZXJ2aWNlLmZpbmRCeUlkKHJlcS5wYXJhbXMuaWQpO1xuICAgICAgICBpZihyZXN1bHQpICAgICAgICAgICAgXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuc2VuZChyZXN1bHQpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICByZXMuc3RhdHVzKDQwMSkuc2VuZCh7bWVzc2FnZTpDT05TVC5NU0cuRVJSLkZJTkRCWUlEfSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGVycm9ySGFuZGxlcihlcnIsIHJlcywgbmV4dCk7XG4gICAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbGlzdChyZXE6IFJlcXVlc3QsIHJlczogUmVzcG9uc2UsIG5leHQ6IE5leHRGdW5jdGlvbik6IFByb21pc2U8dm9pZD4ge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGl0ZW1TZXJ2aWNlLmxpc3QocmVxLnBhcmFtcy5maWx0ZXIpOyBcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLnNlbmQocmVzdWx0KTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgZXJyb3JIYW5kbGVyKGVyciwgcmVzLCBuZXh0KTtcbiAgICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzYXZlSXRlbShyZXE6IFJlcXVlc3QsIHJlczogUmVzcG9uc2UsIG5leHQ6IE5leHRGdW5jdGlvbik6IFByb21pc2U8dm9pZD4ge1xuICAgIHRyeSB7ICAgICAgICBcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgaXRlbVNlcnZpY2Uuc2F2ZUl0ZW0ocmVxLmJvZHkpOyBcbiAgICAgICAgaWYocmVzdWx0KSAgICAgICAgICAgIFxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLnNlbmQoe21lc3NhZ2U6IENPTlNULk1TRy5TVUNDRVNTLlNBVkUsIGl0ZW06IHJlc3VsdH0pO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICByZXMuc3RhdHVzKDQwMSkuc2VuZCh7bWVzc2FnZTpDT05TVC5NU0cuRVJSLlNBVkV9KTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgZXJyb3JIYW5kbGVyKGVyciwgcmVzLCBuZXh0KTtcbiAgICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWxldGVJdGVtKHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSwgbmV4dDogTmV4dEZ1bmN0aW9uKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgaXRlbVNlcnZpY2UuZGVsZXRlSXRlbShyZXEucGFyYW1zLmlkKTsgXG4gICAgICAgIGlmKHJlc3VsdCkgICAgICAgICAgICBcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5zZW5kKHttZXNzYWdlOkNPTlNULk1TRy5TVUNDRVNTLkRFTEVURX0pO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICByZXMuc3RhdHVzKDQwMSkuc2VuZCh7bWVzc2FnZTpDT05TVC5NU0cuRVJSLkRFTEVURX0pO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBlcnJvckhhbmRsZXIoZXJyLCByZXMsIG5leHQpO1xuICAgIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZUl0ZW0ocmVxOiBSZXF1ZXN0LCByZXM6IFJlc3BvbnNlLCBuZXh0OiBOZXh0RnVuY3Rpb24pOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBpdGVtU2VydmljZS51cGRhdGVJdGVtKHJlcS5ib2R5KTsgXG4gICAgICAgIGlmKHJlc3VsdCkgICAgICAgICAgICBcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5zZW5kKHttZXNzYWdlOiBDT05TVC5NU0cuU1VDQ0VTUy5VUERBVEV9KTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDEpLnNlbmQoe21lc3NhZ2U6IENPTlNULk1TRy5FUlIuVVBEQVRFfSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGVycm9ySGFuZGxlcihlcnIsIHJlcywgbmV4dCk7XG4gICAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbGFzdEluc2VydHMocmVxOiBSZXF1ZXN0LCByZXM6UmVzcG9uc2UsIG5leHQ6IE5leHRGdW5jdGlvbik6IFByb21pc2U8dm9pZD4ge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGl0ZW1SZXBvc2l0b3J5Lmxhc3RJbnNlcnRzKCk7XG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5zZW5kKHJlc3VsdCk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIG5leHQoZXJyKTtcbiAgICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB0b3RJdGVtcyhyZXE6IFJlcXVlc3QsIHJlczpSZXNwb25zZSwgbmV4dDogTmV4dEZ1bmN0aW9uKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgaXRlbVJlcG9zaXRvcnkuc2VsZWN0Q291bnQoKTtcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLnNlbmQoe2NvdW50OiByZXN1bHR9KTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgbmV4dChlcnIpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZXJyb3JIYW5kbGVyKGVycjogRXJyb3IsIHJlczogUmVzcG9uc2UsIG5leHQ6IE5leHRGdW5jdGlvbik6IGFueSB7XG4gICAgc3dpdGNoIChlcnIubWVzc2FnZSkgeyAgICAgIFxuICAgICAgY2FzZSAnb2JqZWN0LWludmFsaWQnOlxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLnNlbmQoe21lc3NhZ2U6ICdJdGVtIGludsOhbGlkby4nfSlcbiAgICAgIGNhc2UgJ2ludmFsaWQtb2JqZWN0LWlkJzpcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5zZW5kKHsgbWVzc2FnZTogJ1BhcmFtZXRybyBpbnbDoWxpZG8uJ30pO1xuICAgICAgY2FzZSAncGFyYW1ldGVyLW5vdC1leHBlY3RlZCc6XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuc2VuZCh7IG1lc3NhZ2U6ICdQYXJhbWV0cm8gbsOjbyBleHBlcmFkby4nfSlcbiAgICAgIGNhc2UgJ2l0ZW0tbm90LWZvdW5kJzpcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5zZW5kKHsgbWVzc2FnZTogJ0l0ZW0gbsOjbyBlbmNvbnRyYWRvLicgfSk7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBuZXh0KGVycik7XG4gICAgfVxuICB9XG4iXX0=